%! suppress = NonBreakingSpace
\documentclass[a4paper,12pt]{article}
\usepackage[finnish]{babel}
\usepackage{layout}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{blindtext}
\usepackage{lastpage}

% \usepackage{showframe}


\title{Luotettava UDP-yhteys}
\author{Joonas Kajava}
\date{\today}

\newcommand{\me}{Joonas Kajava}
\renewcommand{\title}{Luotettava UDP-yhteys}

\newcommand{\appendixCount}{0}

\newcommand{\pageCount}{ \pageref{LastPage}}

\newcommand*\sepline{
    \begin{center}
        \rule[1ex]{\textwidth}{.5pt}
    \end{center}}


\begin{document}
    \begin{titlepage}
        \includegraphics[width=0.5\textwidth]{images/metropolia}\par\vspace{2cm}
        {\Large \me}\par \vspace{1cm}

        {\Huge \title}\par \vspace{1cm}

        \vfill

        Metropolia Ammattikorkeakoulu\par
        Insinööri (AMK)\par
        Tieto ja viestintätekniikka\par
        Insinöörityö\par
        \today

        \newpage
        \thispagestyle{empty}

        \section*{Tiivistelmä}

        \begin{tabular} {l l}
            Tekijä:               & \me                                            \\
            Otsikko:              & \title                                         \\
            Sivumäärä:            & \pageCount{} sivua + \appendixCount{} liitettä \\
            Aika:                 & \today                                         \\
            \\
            Tutkinto: & Insinööri (AMK) \\
            Tutkinto-ohjelma: & Tieto- ja viestintätekniikka \\
            Ammatillinen pääaine: & Ammatillinen pääaine \\
            Ohjaajat: & Tehtävänimike Etunimi Sukunimi                      \\
            & Tehtävänimike Etunimi Sukunimi \\
        \end{tabular}
        \sepline
        \newpage
        \thispagestyle{empty}


        \tableofcontents
        \newpage
        \thispagestyle{empty}

        {
            \section*{Lyhenteet}
            \begin{tabular}{l l}
                UDP: & User Datagram Protocol        \\
                TCP: & Transmission Control Protocol \\
                IP:  & Internet Protocol             \\
                ACK: & Acknowledgement               \\
                NAK: & Negative Acknowledgement      \\
                NIC: & Network Interface Controller  \\
            \end{tabular}
            \newpage
        }

    \end{titlepage}

    {
        \section{Johdanto}\label{sec:johdanto}
        \blindtext
    }

    {
        \section{Verkkosovitin}\label{sec:verkkosovitin}
        \blindtext
    }


    \section{Verkkopistoke}\label{sec:verkkopistoke}
    \blindtext

    {
            {
            \section{TCP/IP}\label{sec:tcpip}
            \blindtext
        }
            {
            \subsection{Kuljetuskerros}\label{subsec:kuljetuskerros}
            \blindtext
        }
            {
            \subsection{Sovelluskerros}\label{subsec:sovelluskerros}
            \blindtext
        }
    }


    {
        \section{UDP}\label{sec:udp}
        \blindtext
    }

    {
        \section{Liukuva ikkuna}\label{sec:liukuva_ikkuna}
        \blindtext
    }
    {
        \subsection{Valikoiva toisto}\label{subsec:valikoiva_toisto}
        \blindtext
        \cite{greenwade93}
    }

    \subsection{Kuittaus}\label{subsec:kuittaus}
    \blindtext

    {
        \section{Virheenkorjaus}\label{sec:virheenkorjaus}
        \blindtext
        \cite{tietoliikenteenperusteet}
    }





    \bibliography{main}
    \bibliographystyle{plain}

\end{document}